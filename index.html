<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì˜¤ëŠ˜ ë­ë¨¹ì§€? - ë°”ë¡œ ë§Œë“¤ì–´ë¨¹ëŠ” ë ˆì‹œí”¼ ì¶”ì²œ</title>
    <meta
      name="description"
      content="ì…ë§› Â· ìƒí™©ì— ë§ì¶° ë°”ë¡œ ì¡°ë¦¬í•  ìˆ˜ ìˆëŠ” ë ˆì‹œí”¼ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤."
    />

    <!-- OG -->
    <meta property="og:title" content="ì˜¤ëŠ˜ ë­ë¨¹ì§€? - ì˜¤ëŠ˜ì˜ ìš”ë¦¬ ì¶”ì²œ" />
    <meta
      property="og:description"
      content="ì…ë§›, ê¸°ë¶„, ìƒí™©ì— ë§ì¶˜ ë ˆì‹œí”¼ì™€ ì¥ë³´ê¸° ë¦¬ìŠ¤íŠ¸ê¹Œì§€ í•œ ë²ˆì—."
    />
    <meta
      property="og:image"
      content="https://dummyimage.com/1200x630/0f172a/ffffff&text=%EC%98%A4%EB%8A%98+%EB%AD%90%EB%A8%B9%EC%A7%80%3F"
    />
    <meta property="og:image:alt" content="ì˜¤ëŠ˜ ë­ë¨¹ì§€ ì„œë¹„ìŠ¤ ì¸ë„¤ì¼" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Noto+Sans+KR:wght@400;500;700&display=swap"
      rel="stylesheet"
    />

    <script>
      tailwind = {
        config: {
          theme: {
            extend: {
              fontFamily: {
                display: [
                  '"Space Grotesk"',
                  '"Noto Sans KR"',
                  "system-ui",
                  "sans-serif",
                ],
                body: ['"Noto Sans KR"', "system-ui", "sans-serif"],
              },
              colors: {
                brand: {
                  50: "#ecfeff",
                  100: "#cffafe",
                  200: "#a5f3fc",
                  300: "#67e8f9",
                  500: "#06b6d4",
                  600: "#0891b2",
                  700: "#0f172a",
                },
              },
            },
          },
        },
      };
    </script>
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
      body {
        background: radial-gradient(
            circle at 15% 20%,
            rgba(103, 232, 249, 0.25),
            transparent 22%
          ),
          radial-gradient(
            circle at 80% 10%,
            rgba(250, 204, 21, 0.22),
            transparent 25%
          ),
          radial-gradient(
            circle at 20% 80%,
            rgba(255, 255, 255, 0.9),
            transparent 32%
          ),
          #f8fafc;
        font-family: "Noto Sans KR", "Space Grotesk", system-ui, -apple-system,
          sans-serif;
      }
      .glass {
        backdrop-filter: blur(16px);
        background: rgba(255, 255, 255, 0.85);
        border: 1px solid rgba(15, 23, 42, 0.06);
      }
    </style>
  </head>

  <body class="min-h-screen text-slate-900 relative overflow-x-hidden">
    <div class="absolute inset-0 pointer-events-none">
      <div
        class="absolute w-72 h-72 bg-brand-300/30 blur-3xl -left-16 top-10 rounded-full"
      ></div>
      <div
        class="absolute w-80 h-80 bg-amber-200/30 blur-3xl right-0 top-20 rounded-full"
      ></div>
      <div
        class="absolute w-96 h-96 bg-emerald-200/25 blur-3xl -bottom-16 left-10 rounded-full"
      ></div>
    </div>

    <main class="relative z-10 w-full max-w-3xl mx-auto px-5 py-10 md:py-14">
      <header class="flex items-start justify-between gap-3 mb-8 md:mb-10">
        <div>
          <div
            class="inline-flex items-center gap-2 px-3 py-1 text-xs font-semibold rounded-full glass"
          >
            <span
              class="h-2 w-2 rounded-full bg-emerald-400 animate-pulse"
            ></span>
            ë°ê³  ê¸°ë¶„ ì¢‹ì€ 200+ ë ˆì‹œí”¼ ì¡°í•©
          </div>
          <h1
            class="text-3xl md:text-4xl font-extrabold mt-3 leading-tight text-slate-900"
          >
            ì˜¤ëŠ˜ ë­ë¨¹ì§€? <span class="text-brand-600">ë°”ë¡œ ë§Œë“¤ì–´ë¨¹ê¸°</span>
          </h1>
          <p class="text-slate-600 mt-2 leading-relaxed">
            ë°°ê³ í”” Â· ê¸°ë¶„ Â· ìƒí™©ë§Œ ì•Œë ¤ì£¼ì„¸ìš”. ì¹œì ˆí•œ í•œ ì¤„ ì½”ë©˜íŠ¸ì™€ ì¥ë³´ê¸°
            ë¦¬ìŠ¤íŠ¸ê¹Œì§€ ë°”ë¡œ ì¤€ë¹„í•´ë‘˜ê²Œìš”.
          </p>
        </div>
      </header>

      <!-- STEP -->
      <section id="step-card" class="glass rounded-3xl p-6 md:p-8 shadow-2xl">
        <div
          class="flex items-center justify-between text-sm text-slate-600 mb-4"
        >
          <span id="step-number" class="font-semibold text-brand-600"
            >STEP 1 / 3</span
          >
          <span class="text-slate-500">ì…ë§›, ê¸°ë¶„, ìƒí™©ì„ ì•Œë ¤ì£¼ì„¸ìš”</span>
        </div>
        <div class="flex flex-col gap-2 mb-6">
          <p id="question" class="text-2xl font-bold text-slate-900"></p>
          <p id="question-sub" class="text-slate-600 leading-relaxed"></p>
        </div>

        <div id="choices" class="grid grid-cols-1 md:grid-cols-3 gap-3">
          <!-- buttons -->
        </div>
      </section>

      <!-- RESULT -->
      <section
        id="result-card"
        class="hidden glass rounded-3xl p-6 md:p-8 mt-6 shadow-2xl"
      >
        <div
          class="flex flex-col md:flex-row md:items-center justify-between gap-4"
        >
          <div class="flex-1">
            <p class="text-xs uppercase tracking-[0.2em] text-brand-600 mb-1">
              ì˜¤ëŠ˜ì˜ ë ˆì‹œí”¼
            </p>
            <div class="flex items-center gap-3 flex-wrap">
              <h2 id="food" class="text-3xl font-extrabold text-slate-900"></h2>
              <span
                id="badge"
                class="text-xs font-semibold px-3 py-1 rounded-full bg-brand-100 text-brand-700 border border-brand-200"
              ></span>
            </div>
            <p id="comment" class="text-slate-700 mt-3 leading-relaxed"></p>
          </div>
          <div
            class="w-full md:w-60 h-40 overflow-hidden rounded-2xl shadow-md border border-slate-100 bg-slate-100"
          >
            <img
              id="photo"
              src=""
              alt="ì˜¤ëŠ˜ì˜ ìš”ë¦¬ ì´ë¯¸ì§€"
              class="w-full h-full object-cover transition-opacity duration-300 opacity-0"
              loading="lazy"
            />
          </div>
        </div>

        <div class="grid md:grid-cols-3 gap-4 mt-6">
          <div class="glass rounded-2xl p-4">
            <p class="text-xs text-slate-500 mb-2">ì¡°ë¦¬ ì‹œê°„</p>
            <p id="time" class="text-lg font-semibold text-slate-900"></p>
          </div>
          <div class="glass rounded-2xl p-4">
            <p class="text-xs text-slate-500 mb-2">ë‚œì´ë„</p>
            <p id="difficulty" class="text-lg font-semibold text-slate-900"></p>
          </div>
          <div class="glass rounded-2xl p-4">
            <p class="text-xs text-slate-500 mb-2">íŠ¹ì§•</p>
            <p
              id="tags"
              class="text-sm font-medium text-brand-700 leading-relaxed"
            ></p>
          </div>
        </div>

        <div class="grid md:grid-cols-2 gap-5 mt-6">
          <div class="glass rounded-2xl p-4">
            <div class="flex items-center justify-between mb-2">
              <p class="text-sm font-semibold text-slate-900">ì¥ë³´ê¸° ë¦¬ìŠ¤íŠ¸</p>
              <button
                id="copy-btn"
                class="text-xs font-semibold px-3 py-1 rounded-full bg-brand-100 text-brand-700 border border-brand-200 hover:bg-brand-200 transition"
                type="button"
              >
                ì¥ë³´ê¸° ë¦¬ìŠ¤íŠ¸ ë³µì‚¬
              </button>
            </div>
            <ul
              id="ingredients"
              class="text-sm text-slate-800 space-y-1 list-disc list-inside leading-relaxed"
            ></ul>
          </div>

          <div class="glass rounded-2xl p-4">
            <div class="flex items-center justify-between mb-2">
              <p class="text-sm font-semibold text-slate-900">ë°”ë¡œ ë”°ë¼í•˜ê¸°</p>
              <button
                id="share-btn"
                class="text-sm font-semibold px-4 py-2 rounded-full bg-white text-brand-800 border border-brand-200 hover:bg-brand-50 hover:-translate-y-0.5 hover:shadow-xl shadow-md transition"
                type="button"
              >
                ğŸ“¸ ìš”ë¦¬ ì¹´ë“œ ì´ë¯¸ì§€
              </button>
            </div>
            <ol
              id="steps"
              class="text-sm text-slate-800 space-y-2 list-decimal list-inside leading-relaxed"
            ></ol>
          </div>
        </div>

        <div
          class="flex flex-col md:flex-row items-stretch md:items-center gap-3 mt-6"
        >
          <button
            id="reload-btn"
            class="w-full md:w-auto justify-center inline-flex items-center gap-2 px-4 py-3 rounded-xl font-semibold bg-slate-900 text-white hover:bg-slate-800 transition"
            type="button"
          >
            ë‹¤ì‹œ ê³ ë¥´ê¸°
          </button>
          <div class="text-sm text-slate-600 md:ml-2" id="status"></div>
        </div>
      </section>

      <div
        class="flex items-center justify-between mt-10 glass rounded-2xl p-4 shadow border border-slate-100"
      >
        <div>
          <p class="text-sm font-semibold text-slate-900">FunnyFunny Cloud</p>
          <p class="text-slate-600 text-sm leading-relaxed">
            ë” ë§ì€ í…ŒìŠ¤íŠ¸ì™€ ì‹¤í—˜ì ì¸ ê¸°ëŠ¥ì„ ì—¬ê¸°ì„œ ë¨¼ì € ì¨ë³´ì„¸ìš”.
          </p>
        </div>
        <a
          class="inline-flex items-center gap-2 px-5 py-3 rounded-xl bg-white text-brand-700 font-semibold border border-brand-200 hover:bg-brand-50 transition shadow-lg"
          href="https://funnyfunny.cloud"
          target="_blank"
          rel="noreferrer"
        >
          ë” í•´ë³´ê¸°
          <span aria-hidden="true">â†—</span>
        </a>
      </div>
    </main>

    <script>
      const stepsData = [
        {
          key: "hunger",
          q: "ì–¼ë§ˆë‚˜ ë°°ê³ íŒŒ?",
          sub: "ë“ ë“ í•œ í•œ ë¼ê°€ í•„ìš”í•œì§€, ê°€ë³ê²Œ ì±„ìš¸ì§€ ì„ íƒí•´ì£¼ì„¸ìš”.",
          a: [
            { t: "ë°°ê³ íŒŒ ì£½ê² ìŒ", v: "big" },
            { t: "ì ë‹¹íˆ ë°°ê³ í””", v: "mid" },
            { t: "ì…ì´ ì‹¬ì‹¬í•¨", v: "light" },
          ],
        },
        {
          key: "mood",
          q: "ì˜¤ëŠ˜ ê¸°ë¶„ì€?",
          sub: "ê¸°ë¶„ì— ë§ëŠ” ë§›ì˜ ê°•ë„ë¥¼ ë§ì¶°ë³¼ê²Œìš”.",
          a: [
            { t: "ìŠ¤íŠ¸ë ˆìŠ¤ ğŸ˜µ", v: "stress" },
            { t: "ê¸°ë¶„ ì¢‹ìŒ ğŸ˜†", v: "happy" },
            { t: "ì•„ë¬´ ìƒê° ì—†ìŒ ğŸ˜", v: "meh" },
          ],
        },
        {
          key: "situation",
          q: "ìƒí™©ì€?",
          sub: "í˜¼ì, ê°™ì´, ë°°ë‹¬ ì—¬ë¶€ì— ë”°ë¼ ìµœì ì˜ ìš”ë¦¬ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤.",
          a: [
            { t: "í˜¼ë°¥", v: "solo" },
            { t: "ê°™ì´ ë¨¹ìŒ", v: "together" },
            { t: "ë°°ë‹¬ ì˜ˆì •", v: "delivery" },
          ],
        },
      ];

      const recipes = [
        {
          id: "pork-stir-fry",
          name: "ì œìœ¡ë³¶ìŒ",
          hunger: "big",
          mood: ["stress", "happy"],
          situation: ["solo", "together"],
          time: 25,
          difficulty: "ì¤‘",
          tags: ["ë§¤ì½¤", "ì§‘ë°¥", "ë°¥ë„ë‘‘"],
          ingredients: [
            "ë¼ì§€ê³ ê¸° ì•ë‹¤ë¦¬ì‚´ 300g",
            "ì–‘íŒŒ 1/2ê°œ",
            "ëŒ€íŒŒ 1ëŒ€",
            "ì–‘ë°°ì¶” í•œ ì¤Œ",
            "ê³ ì¶”ì¥ 2í°ìˆ , ê³ ì¶§ê°€ë£¨ 1í°ìˆ ",
            "ê°„ì¥ 1í°ìˆ , ì„¤íƒ• 1í°ìˆ ",
            "ë‹¤ì§„ ë§ˆëŠ˜ 1í°ìˆ , ì°¸ê¸°ë¦„ ì•½ê°„",
          ],
          steps: [
            "ë¼ì§€ê³ ê¸°ëŠ” ë¨¹ê¸° ì¢‹ì€ í¬ê¸°ë¡œ ì¬ë‹¤.",
            "ê³ ì¶”ì¥, ê³ ì¶§ê°€ë£¨, ê°„ì¥, ì„¤íƒ•, ë‹¤ì§„ ë§ˆëŠ˜ì„ ì„ì–´ ì–‘ë…ì¥ì„ ë§Œë“ ë‹¤.",
            "ê³ ê¸°ì— ì–‘ë…ì¥ì„ ë„£ì–´ 10ë¶„ê°„ ì¬ìš´ë‹¤.",
            "íŒ¬ì„ ë‹¬êµ¬ì–´ ì–‘ë…ëœ ê³ ê¸°ë¥¼ ë³¶ë‹¤ê°€ ì±„ì†Œë¥¼ ë„£ê³  ì„¼ ë¶ˆì— ë¹ ë¥´ê²Œ ë³¶ëŠ”ë‹¤.",
            "ë¶ˆì„ ë„ê³  ì°¸ê¸°ë¦„ì„ ì‚´ì§ ë‘ë¥¸ë‹¤.",
          ],
          description: "ê°•í•œ ë¶ˆë§›ê³¼ ë§¤ì½¤í•¨ìœ¼ë¡œ ìŠ¤íŠ¸ë ˆìŠ¤ê¹Œì§€ íƒœì›Œë²„ë¦¬ëŠ” ë©”ë‰´.",
        },
        {
          id: "kimchi-stew",
          name: "ê¹€ì¹˜ì°Œê°œ",
          hunger: "big",
          mood: ["meh", "stress"],
          situation: ["solo", "together"],
          time: 30,
          difficulty: "í•˜",
          tags: ["êµ­ë¬¼", "ì§‘ë°¥", "í•œêµ­ì¸ì†Œìš¸"],
          ingredients: [
            "ì‹ ê¹€ì¹˜ 1ì»µ",
            "ë¼ì§€ê³ ê¸° 150g",
            "ë‘ë¶€ 1/2ëª¨",
            "ëŒ€íŒŒ 1ëŒ€",
            "ê³ ì¶§ê°€ë£¨ 1í°ìˆ ",
            "ëœì¥ 1/2í°ìˆ ",
            "ë§ˆëŠ˜ 1í°ìˆ ",
            "ë¬¼ 500ml",
          ],
          steps: [
            "ëƒ„ë¹„ì— ë¼ì§€ê³ ê¸°ì™€ ê¹€ì¹˜ë¥¼ ë„£ê³  ë³¶ì•„ ê¸°ë¦„ì„ ë‚¸ë‹¤.",
            "ë¬¼ê³¼ ê³ ì¶§ê°€ë£¨, ëœì¥ì„ ë„£ê³  20ë¶„ê°„ ë“ì¸ë‹¤.",
            "ë‘ë¶€ì™€ ëŒ€íŒŒë¥¼ ë„£ê³  5ë¶„ ë” ë“ì¸ ë’¤ ê°„ì„ ë§ì¶˜ë‹¤.",
          ],
          description: "ì•„ë¬´ ìƒê° ì—†ì´ ë“ì—¬ë„ ì‹¤íŒ¨ ì—†ëŠ” ê°€ì¥ ë¬´ë‚œí•œ í•´ë‹µ.",
        },
        {
          id: "mala-tang",
          name: "ë§ˆë¼íƒ• (ë°°ë‹¬ ê°)",
          hunger: "big",
          mood: ["stress"],
          situation: ["delivery", "together"],
          time: 40,
          difficulty: "ì¤‘",
          tags: ["ì–¼ì–¼", "ë“ ë“ ", "í•´ì¥"],
          ingredients: [
            "ë§ˆë¼íƒ• ìœ¡ìˆ˜ ë˜ëŠ” í› ê¶ˆ ì†ŒìŠ¤",
            "ì¤‘êµ­ ë‹¹ë©´",
            "ìˆ™ì£¼, ë°°ì¶”, ì²­ê²½ì±„ ë“± ì±„ì†Œ",
            "ì–´ë¬µë¥˜, í–„, ìƒˆì†¡ì´ë²„ì„¯",
            "í›„ì¶§ê°€ë£¨, ê³ ìˆ˜ (ì„ íƒ)",
          ],
          steps: [
            "ìœ¡ìˆ˜ë¥¼ ë“ì´ë©° í› ê¶ˆ ì†ŒìŠ¤ë¡œ ê°„ì„ ë§ì¶˜ë‹¤.",
            "ë‹¹ë©´ê³¼ ë‹¨ë‹¨í•œ ì¬ë£Œë¶€í„° ë„£ê³  ë“ì¸ë‹¤.",
            "ì±„ì†Œë¥¼ ë„£ê³  3~4ë¶„ê°„ ë” ë“ì—¬ ê±´ì ¸ ë¨¹ëŠ”ë‹¤.",
            "ì–¼ì–¼í•¨ì´ ë¶€ì¡±í•˜ë©´ ë¼ì¡°ì¥ì„ ì¶”ê°€í•œë‹¤.",
          ],
          description:
            "ë°°ë‹¬ ì‹œì¼œë„ ë˜ê³ , ì¬ë£Œë§Œ ìˆìœ¼ë©´ ì§‘ì—ì„œ ì¦‰ì‹œ ê°€ëŠ¥í•œ ê°•ë ¥ ë©”ë‰´.",
        },
        {
          id: "pasta-cream",
          name: "ë²„ì„¯ í¬ë¦¼ íŒŒìŠ¤íƒ€",
          hunger: "mid",
          mood: ["happy", "meh"],
          situation: ["together", "solo"],
          time: 20,
          difficulty: "ì¤‘",
          tags: ["ë¶€ë“œëŸ¬ì›€", "ê°„ë‹¨", "ì†ë‹˜ì ‘ëŒ€"],
          ingredients: [
            "ìŠ¤íŒŒê²Œí‹°ë©´ 200g",
            "ì–‘ì†¡ì´ 4~5ê°œ",
            "ì–‘íŒŒ 1/4ê°œ",
            "ìƒí¬ë¦¼ 200ml",
            "íŒŒë§ˆì‚° ì¹˜ì¦ˆ í•œ ì¤Œ",
            "ë²„í„° 1í°ìˆ ",
            "ì†Œê¸ˆ, í›„ì¶”",
          ],
          steps: [
            "ë©´ì„ ì†Œê¸ˆë¬¼ì— ì‚¶ì•„ ìµíŒë‹¤.",
            "íŒ¬ì— ë²„í„°ë¥¼ ë…¹ì´ê³  ì–‘íŒŒì™€ ë²„ì„¯ì„ ë³¶ëŠ”ë‹¤.",
            "ìƒí¬ë¦¼ì„ ë¶“ê³  ê°„ì„ ë§ì¶˜ ë’¤ ë©´ì„ ë„£ì–´ ì„ëŠ”ë‹¤.",
            "ì¹˜ì¦ˆì™€ í›„ì¶”ë¥¼ ë¿Œë ¤ ì™„ì„±í•œë‹¤.",
          ],
          description:
            "í¬ë¦¼ì˜ ë¶€ë“œëŸ¬ì›€ìœ¼ë¡œ ì˜¤ëŠ˜ ê¸°ë¶„ì„ í•œ ë‹¨ê³„ ëŒì–´ì˜¬ë¦¬ëŠ” ë©”ë‰´.",
        },
        {
          id: "bibim-noodle",
          name: "ë¹„ë¹”êµ­ìˆ˜",
          hunger: "light",
          mood: ["happy", "meh"],
          situation: ["solo", "together"],
          time: 12,
          difficulty: "í•˜",
          tags: ["ìƒˆì½¤ë‹¬ì½¤", "í•œê·¸ë¦‡", "ì—¬ë¦„"],
          ingredients: [
            "ì†Œë©´ 100g",
            "ì˜¤ì´ì±„ í•œ ì¤Œ",
            "ì‚¶ì€ ë‹¬ê±€ 1ê°œ",
            "ê³ ì¶”ì¥ 1í°ìˆ , ì‹ì´ˆ 1í°ìˆ ",
            "ì„¤íƒ• 1í°ìˆ , ì°¸ê¸°ë¦„ 1ì‘ì€ìˆ ",
            "ë‹¤ì§„ ë§ˆëŠ˜ 1/2í°ìˆ ",
          ],
          steps: [
            "ì†Œë©´ì„ ì‚¶ì•„ ì°¬ë¬¼ì— í—¹ê¶ˆ ì „ë¶„ê¸°ë¥¼ ëº€ë‹¤.",
            "ê³ ì¶”ì¥, ì‹ì´ˆ, ì„¤íƒ•, ì°¸ê¸°ë¦„, ë§ˆëŠ˜ì„ ì„ì–´ ì–‘ë…ì¥ì„ ë§Œë“ ë‹¤.",
            "ë©´ê³¼ ì–‘ë…ì„ ë²„ë¬´ë¦¬ê³  ì˜¤ì´ì±„ì™€ ë‹¬ê±€ì„ ì˜¬ë¦°ë‹¤.",
          ],
          description: "ì…ì´ ì‹¬ì‹¬í•  ë•Œ ë¹ ë¥´ê²Œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ìƒí¼í•œ í•œ ê·¸ë¦‡.",
        },
        {
          id: "salmon-poke",
          name: "ì—°ì–´ í¬ì¼€",
          hunger: "mid",
          mood: ["happy"],
          situation: ["together", "delivery"],
          time: 18,
          difficulty: "í•˜",
          tags: ["ìƒí¼", "ì°¨ê°€ì›€", "í¬ë§Œê°"],
          ingredients: [
            "ì—°ì–´ ì‚¬ì‹œë¯¸ 200g",
            "ì•„ë³´ì¹´ë„ 1/2ê°œ",
            "ì˜¤ì´, ì ì–‘íŒŒ ì•½ê°„",
            "ê°„ì¥ 2í°ìˆ , ë ˆëª¬ì¦™ 1í°ìˆ ",
            "ì°¸ê¸°ë¦„ 1ì‘ì€ìˆ , í›„ì¶”",
            "ë°¥ ë˜ëŠ” í€´ë…¸ì•„ 1ê³µê¸°",
          ],
          steps: [
            "ì—°ì–´ì™€ ì±„ì†Œë¥¼ í•œì… í¬ê¸°ë¡œ ì¬ë‹¤.",
            "ê°„ì¥, ë ˆëª¬ì¦™, ì°¸ê¸°ë¦„ìœ¼ë¡œ ì†ŒìŠ¤ë¥¼ ë§Œë“ ë‹¤.",
            "ë°¥ ìœ„ì— ì—°ì–´ì™€ ì±„ì†Œë¥¼ ì˜¬ë¦¬ê³  ì†ŒìŠ¤ë¥¼ ë¿Œë¦°ë‹¤.",
          ],
          description: "ê¸°ë¶„ ì¢‹ì€ ë‚ , ê°€ë³ì§€ë§Œ ê·¼ì‚¬í•˜ê²Œ ë¨¹ê¸° ì¢‹ì€ í•œ ê·¸ë¦‡.",
        },
        {
          id: "kimchi-fried-rice",
          name: "ê¹€ì¹˜ë³¶ìŒë°¥",
          hunger: "mid",
          mood: ["stress", "meh"],
          situation: ["solo", "delivery"],
          time: 15,
          difficulty: "í•˜",
          tags: ["ì§‘ë°¥", "ê°„ë‹¨", "í•œê·¸ë¦‡"],
          ingredients: [
            "ë°¥ 1ê³µê¸°",
            "ì˜ ìµì€ ê¹€ì¹˜ 1/2ì»µ",
            "ëŒ€íŒŒ 1/2ëŒ€",
            "ê°„ì¥ 1í°ìˆ ",
            "ê³ ì¶§ê°€ë£¨ 1/2í°ìˆ ",
            "ì‹ìš©ìœ , ê³„ë€ 1ê°œ",
          ],
          steps: [
            "íŒ¬ì— ê¸°ë¦„ì„ ë‘ë¥´ê³  ëŒ€íŒŒë¥¼ ë³¶ì•„ íŒŒê¸°ë¦„ì„ ë‚¸ë‹¤.",
            "ê¹€ì¹˜ë¥¼ ë„£ê³  ë³¶ë‹¤ê°€ ë°¥ê³¼ ê°„ì¥ì„ ë„£ì–´ ì„ëŠ”ë‹¤.",
            "ê³ ì¶§ê°€ë£¨ë¡œ ìƒ‰ì„ ë§ì¶”ê³ , ê³„ë€ í”„ë¼ì´ë¥¼ ì–¹ì–´ ì™„ì„±í•œë‹¤.",
          ],
          description: "ë¨¸ë¦¬ ë¹„ìš°ê³  íœ˜ë¦¬ë¦­ ì™„ì„±í•˜ëŠ” êµ­ë¯¼ ë³¶ìŒë°¥.",
        },
        {
          id: "avocado-toast",
          name: "ì•„ë³´ì¹´ë„ í† ìŠ¤íŠ¸",
          hunger: "light",
          mood: ["happy"],
          situation: ["solo"],
          time: 10,
          difficulty: "í•˜",
          tags: ["ë¸ŒëŸ°ì¹˜", "ê°€ë²¼ì›€", "ì‹ë‹¨ì¹œí™”"],
          ingredients: [
            "ì‹ë¹µ 1ì¥",
            "ì•„ë³´ì¹´ë„ 1/2ê°œ",
            "ë ˆëª¬ì¦™ ì•½ê°„",
            "ì˜¬ë¦¬ë¸Œìœ , ì†Œê¸ˆ, í›„ì¶”",
          ],
          steps: [
            "ì‹ë¹µì„ ë°”ì‚­í•˜ê²Œ êµ¬ìš´ë‹¤.",
            "ì•„ë³´ì¹´ë„ë¥¼ ìœ¼ê¹¨ê³  ë ˆëª¬ì¦™, ì†Œê¸ˆ, í›„ì¶”, ì˜¬ë¦¬ë¸Œìœ ë¥¼ ì„ëŠ”ë‹¤.",
            "ë¹µ ìœ„ì— ë“¬ë¿ ì˜¬ë ¤ í•œì…ì— ë¨¹ëŠ”ë‹¤.",
          ],
          description:
            "ìš”ë¦¬ë¼ê³  ë¶€ë¥´ê¸° ë¯¼ë§í•˜ì§€ë§Œ, ê¸°ë¶„ ì¢‹ì€ ë‚  ì–´ìš¸ë¦¬ëŠ” ì‹¬í”Œ ë¸ŒëŸ°ì¹˜.",
        },
        {
          id: "taco-night",
          name: "ì‰¬ìš´ íƒ€ì½” ë‚˜ì´íŠ¸",
          hunger: "big",
          mood: ["happy", "meh"],
          situation: ["together"],
          time: 30,
          difficulty: "ì¤‘",
          tags: ["íŒŒí‹°", "ì»¤ìŠ¤í„°ë§ˆì´ì§•", "ì†ìœ¼ë¡œë¨¹ê¸°"],
          ingredients: [
            "ë˜ë ì•¼ 6ì¥",
            "ì†Œê³ ê¸° ë‹¤ì§ìœ¡ 250g",
            "ì–‘íŒŒ 1/2ê°œ, í† ë§ˆí†  1ê°œ",
            "íƒ€ì½” ì‹œì¦ˆë‹ 1íŒ©",
            "ì²´ë‹¤ ì¹˜ì¦ˆ, ìƒì¶” ë˜ëŠ” ì–‘ë°°ì¶”",
            "ì‚¬ì›Œí¬ë¦¼ ë˜ëŠ” ìš”ê±°íŠ¸",
          ],
          steps: [
            "ë‹¤ì§ìœ¡ê³¼ ì–‘íŒŒë¥¼ ë³¶ë‹¤ê°€ íƒ€ì½” ì‹œì¦ˆë‹ì„ ë„£ì–´ ê°„í•œë‹¤.",
            "ë˜ë ì•¼ë¥¼ ì‚´ì§ ë°ìš´ë‹¤.",
            "ê³ ê¸°, ì±„ì†Œ, ì¹˜ì¦ˆë¥¼ ì˜¬ë¦¬ê³  ì‚¬ì›Œí¬ë¦¼ì„ ê³ë“¤ì—¬ ì ‘ëŠ”ë‹¤.",
          ],
          description: "ê°™ì´ ë¨¹ìœ¼ë©° ì·¨í–¥ê» ì»¤ìŠ¤í„°ë§ˆì´ì§•í•  ìˆ˜ ìˆëŠ” ë‹¨ì²´ìš© ë©”ë‰´.",
        },
        {
          id: "tofu-kimchi",
          name: "ë‘ë¶€ê¹€ì¹˜",
          hunger: "mid",
          mood: ["stress", "meh"],
          situation: ["solo", "together"],
          time: 18,
          difficulty: "í•˜",
          tags: ["ë‹¨ë°±ì§ˆ", "ì•ˆì£¼", "ë¹¨ë¦¬ë"],
          ingredients: [
            "ì‹ ê¹€ì¹˜ 1ì»µ",
            "ë‘ë¶€ 1ëª¨",
            "ëŒ€íŒ¨ì‚¼ê²¹ ë˜ëŠ” ë² ì´ì»¨ 150g",
            "ê³ ì¶§ê°€ë£¨ 1í°ìˆ , ê°„ì¥ 1/2í°ìˆ ",
            "ì„¤íƒ• 1/2í°ìˆ , ì°¸ê¸°ë¦„ ì•½ê°„",
          ],
          steps: [
            "ë‘ë¶€ë¥¼ ì „ìë ˆì¸ì§€ë‚˜ ë“ëŠ” ë¬¼ì— ë°ì›Œ ìˆ˜ë¶„ì„ ëº€ë‹¤.",
            "íŒ¬ì— ê³ ê¸°ë¥¼ ë³¶ë‹¤ê°€ ê¹€ì¹˜ë¥¼ ë„£ê³  ì–‘ë…ê³¼ í•¨ê»˜ ë³¶ëŠ”ë‹¤.",
            "ê·¸ë¦‡ì— ë‘ë¶€ë¥¼ ê¹”ê³  ìœ„ì— ë³¶ì€ ê¹€ì¹˜ë¥¼ ì˜¬ë¦°ë‹¤.",
          ],
          description: "ë°¥ë°˜ì°¬ì´ë“  ì•ˆì£¼ë“  10ë¶„ëŒ€ í´ë¦¬ì–´ ê°€ëŠ¥í•œ ì† ì‹œì›í•œ ë©”ë‰´.",
        },
        {
          id: "chicken-salad",
          name: "í›ˆì œì¹˜í‚¨ ìƒëŸ¬ë“œ",
          hunger: "light",
          mood: ["meh", "happy"],
          situation: ["delivery", "solo"],
          time: 8,
          difficulty: "í•˜",
          tags: ["ì‹ë‹¨", "ë‹¨ë°±ì§ˆ", "ë“œë ˆì‹±í•œë°©"],
          ingredients: [
            "í›ˆì œì¹˜í‚¨ 150g",
            "ëª¨ë“¬ ì±„ì†Œ í•œ íŒ©",
            "ë°©ìš¸í† ë§ˆí†  5~6ê°œ",
            "ì˜¬ë¦¬ë¸Œìœ  1í°ìˆ , ë°œì‚¬ë¯¹ 1í°ìˆ ",
            "ì†Œê¸ˆ, í›„ì¶”",
          ],
          steps: [
            "í›ˆì œì¹˜í‚¨ì„ í•œì… í¬ê¸°ë¡œ ì°¢ëŠ”ë‹¤.",
            "ì±„ì†Œì™€ í† ë§ˆí† ë¥¼ ë³¼ì— ë‹´ëŠ”ë‹¤.",
            "ì˜¬ë¦¬ë¸Œìœ ì™€ ë°œì‚¬ë¯¹, ì†Œê¸ˆ í›„ì¶”ë¡œ ê°„ë‹¨íˆ ë“œë ˆì‹± í›„ ë²„ë¬´ë¦°ë‹¤.",
          ],
          description: "ë°°ëŠ” ì±„ìš°ë˜ ì†ì€ ê°€ë³ê²Œ, 10ë¶„ ë§Œì— ëë‚´ëŠ” ê±´ê°•ì‹.",
        },
      ];

      const questionEl = document.getElementById("question");
      const questionSubEl = document.getElementById("question-sub");
      const choicesEl = document.getElementById("choices");
      const stepNumberEl = document.getElementById("step-number");
      const stepCard = document.getElementById("step-card");
      const resultCard = document.getElementById("result-card");
      const foodEl = document.getElementById("food");
      const badgeEl = document.getElementById("badge");
      const commentEl = document.getElementById("comment");
      const timeEl = document.getElementById("time");
      const difficultyEl = document.getElementById("difficulty");
      const tagsEl = document.getElementById("tags");
      const ingredientsEl = document.getElementById("ingredients");
      const stepsEl = document.getElementById("steps");
      const photoEl = document.getElementById("photo");
      const statusEl = document.getElementById("status");
      const copyBtn = document.getElementById("copy-btn");
      const shareBtn = document.getElementById("share-btn");
      const reloadBtn = document.getElementById("reload-btn");

      let stepIndex = 0;
      const answers = {};
      let currentRecipe = null;

      function renderStep() {
        const s = stepsData[stepIndex];
        stepNumberEl.textContent = `STEP ${stepIndex + 1} / ${
          stepsData.length
        }`;
        questionEl.textContent = s.q;
        questionSubEl.textContent = s.sub;
        choicesEl.innerHTML = "";
        s.a.forEach((o) => {
          const btn = document.createElement("button");
          btn.className =
            "w-full text-left border border-slate-200 bg-white hover:bg-brand-50 transition rounded-2xl px-4 py-3 font-semibold text-slate-900 shadow-sm";
          btn.textContent = o.t;
          btn.type = "button";
          btn.onclick = () => nextStep(s.key, o.v);
          choicesEl.appendChild(btn);
        });
      }

      function nextStep(key, value) {
        answers[key] = value;
        stepIndex += 1;
        if (stepIndex < stepsData.length) {
          renderStep();
        } else {
          showResult();
        }
      }

      function pickRecipe({ hunger, mood, situation }) {
        const strict = recipes.filter(
          (r) =>
            r.hunger === hunger &&
            r.mood.includes(mood) &&
            r.situation.includes(situation)
        );

        if (strict.length)
          return strict[Math.floor(Math.random() * strict.length)];

        const loose = recipes.filter(
          (r) => r.hunger === hunger && r.mood.includes(mood)
        );
        if (loose.length)
          return loose[Math.floor(Math.random() * loose.length)];

        return recipes[Math.floor(Math.random() * recipes.length)];
      }

      function showResult() {
        currentRecipe = pickRecipe(answers);
        stepCard.classList.add("hidden");
        resultCard.classList.remove("hidden");

        foodEl.textContent = currentRecipe.name;
        badgeEl.textContent = `${currentRecipe.time}ë¶„ Â· ${currentRecipe.difficulty}`;
        commentEl.textContent = currentRecipe.description;
        timeEl.textContent = `${currentRecipe.time}ë¶„ì´ë©´ ì™„ì„±`;
        difficultyEl.textContent = `ì²´ê° ë‚œì´ë„: ${currentRecipe.difficulty}`;
        tagsEl.textContent = currentRecipe.tags.join(", ");

        ingredientsEl.innerHTML = currentRecipe.ingredients
          .map((i) => `<li>${i}</li>`)
          .join("");

        stepsEl.innerHTML = currentRecipe.steps
          .map((s, i) => `<li>${i + 1}. ${s}</li>`)
          .join("");

        statusEl.textContent =
          "ğŸ›’ ì¥ë³´ê¸° ë¦¬ìŠ¤íŠ¸ ë³µì‚¬í•˜ë©´ ë°”ë¡œ ë§ˆì¼“ì— ë¶™ì—¬ë„£ì„ ìˆ˜ ìˆì–´ìš”.";
        loadPhoto(currentRecipe);
      }

      function loadPhoto(recipe) {
        const keywords = encodeURIComponent(`${recipe.name} food bright`);
        const url = `https://source.unsplash.com/1080x720/?${keywords}`;
        const wrapper = photoEl.parentElement;
        photoEl.style.opacity = 0;
        wrapper.classList.remove("hidden");
        photoEl.onload = () => {
          photoEl.style.opacity = 1;
        };
        photoEl.onerror = () => {
          photoEl.removeAttribute("src");
          wrapper.classList.add("hidden");
        };
        photoEl.src = url;
      }

      function copyShoppingList() {
        if (!currentRecipe) return;
        const text = [
          `[${currentRecipe.name}] ì¥ë³´ê¸° ë¦¬ìŠ¤íŠ¸`,
          "",
          ...currentRecipe.ingredients,
        ].join("\n");
        navigator.clipboard
          .writeText(text)
          .then(() => {
            statusEl.textContent = "âœ… ë³µì‚¬ ì™„ë£Œ! ì¥ë³¼ ë•Œ ë¶™ì—¬ë„£ê¸°ë§Œ í•˜ë©´ ë.";
          })
          .catch(() => {
            statusEl.textContent =
              "í´ë¦½ë³´ë“œ ì ‘ê·¼ì´ ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤. ë¸Œë¼ìš°ì € ì„¤ì •ì„ í™•ì¸í•´ ì£¼ì„¸ìš”.";
          });
      }

      function drawWrappedText(ctx, text, x, y, maxWidth, lineHeight) {
        const words = text.split(" ");
        let line = "";
        const lines = [];
        words.forEach((word) => {
          const testLine = line + word + " ";
          const metrics = ctx.measureText(testLine);
          if (metrics.width > maxWidth) {
            lines.push(line.trim());
            line = word + " ";
          } else {
            line = testLine;
          }
        });
        lines.push(line.trim());
        lines.forEach((l, i) => ctx.fillText(l, x, y + i * lineHeight));
      }

      async function generateShareCard() {
        if (!currentRecipe) return;
        statusEl.textContent = "ğŸ“¸ ìš”ë¦¬ ì¹´ë“œ ì´ë¯¸ì§€ ì¤€ë¹„ ì¤‘... (1~2ì´ˆ)";
        const canvas = document.createElement("canvas");
        const width = 1080;
        const height = 1350;
        canvas.width = width;
        canvas.height = height;
        const ctx = canvas.getContext("2d");

        const gradient = ctx.createLinearGradient(0, 0, 0, height);
        gradient.addColorStop(0, "#e0f7ff");
        gradient.addColorStop(1, "#a5f3fc");
        ctx.fillStyle = gradient;
        ctx.fillRect(0, 0, width, height);

        ctx.fillStyle = "rgba(255,255,255,0.6)";
        ctx.beginPath();
        if (typeof ctx.roundRect === "function") {
          ctx.roundRect(60, 120, width - 120, height - 240, 40);
        } else {
          ctx.rect(60, 120, width - 120, height - 240);
        }
        ctx.fill();

        await document.fonts.ready;
        ctx.fillStyle = "#0f172a";
        ctx.font = "24px 'Space Grotesk'";
        ctx.fillText("ì˜¤ëŠ˜ ë­ë¨¹ì§€? Recipe Card", 100, 180);

        ctx.fillStyle = "#0f172a";
        ctx.font = "56px 'Noto Sans KR'";
        ctx.fillText(currentRecipe.name, 100, 260);

        ctx.fillStyle = "#1f2937";
        ctx.font = "24px 'Noto Sans KR'";
        drawWrappedText(
          ctx,
          currentRecipe.description,
          100,
          310,
          width - 200,
          34
        );

        ctx.fillStyle = "#0f172a";
        ctx.font = "22px 'Space Grotesk'";
        ctx.fillText(
          `â± ${currentRecipe.time}ë¶„  Â·  ğŸ”¥ ë‚œì´ë„ ${currentRecipe.difficulty}`,
          100,
          390
        );

        ctx.fillStyle = "#0f172a";
        ctx.font = "22px 'Noto Sans KR'";
        ctx.fillText(`âœ¨ ${currentRecipe.tags.join(", ")}`, 100, 430);

        ctx.font = "26px 'Noto Sans KR'";
        ctx.fillStyle = "#0f172a";
        ctx.fillText("ì¥ë³´ê¸° ë¦¬ìŠ¤íŠ¸", 100, 500);
        ctx.font = "22px 'Noto Sans KR'";
        currentRecipe.ingredients.forEach((ing, idx) => {
          const y = 540 + idx * 32;
          drawWrappedText(ctx, `â€¢ ${ing}`, 100, y, width - 200, 32);
        });

        ctx.font = "26px 'Noto Sans KR'";
        ctx.fillStyle = "#0f172a";
        const stepsStart = 540 + currentRecipe.ingredients.length * 32 + 40;
        ctx.fillText("ë§Œë“œëŠ” ë²•", 100, stepsStart);
        ctx.font = "22px 'Noto Sans KR'";
        currentRecipe.steps.forEach((st, idx) => {
          const y = stepsStart + 40 + idx * 34;
          drawWrappedText(ctx, `${idx + 1}. ${st}`, 100, y, width - 200, 34);
        });

        ctx.strokeStyle = "#0f172a";
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.moveTo(100, height - 120);
        ctx.lineTo(width - 100, height - 120);
        ctx.stroke();

        ctx.font = "24px 'Space Grotesk'";
        ctx.fillStyle = "#0f172a";
        const footer = "funnyfunny.cloud";
        const footerWidth = ctx.measureText(footer).width;
        ctx.fillText(footer, (width - footerWidth) / 2, height - 80);

        const url = canvas.toDataURL("image/png");
        const link = document.createElement("a");
        link.href = url;
        link.download = `${currentRecipe.id}-card.png`;
        link.click();
        statusEl.textContent = "ğŸ“¸ ìš”ë¦¬ ì¹´ë“œ ì´ë¯¸ì§€ë¥¼ ì €ì¥í–ˆì–´ìš”.";
      }

      copyBtn.addEventListener("click", copyShoppingList);
      shareBtn.addEventListener("click", generateShareCard);
      reloadBtn.addEventListener("click", () => window.location.reload());

      renderStep();
    </script>
  </body>
</html>
